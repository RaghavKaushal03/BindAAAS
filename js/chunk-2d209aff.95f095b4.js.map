{"version":3,"sources":["webpack:///./src/views/Tokens.vue?21d9","webpack:///src/views/Tokens.vue","webpack:///./src/views/Tokens.vue?9b48","webpack:///./src/views/Tokens.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","padding","scopedSlots","_u","key","fn","_v","staticStyle","model","value","callback","$$v","branchBtns","expression","proxy","columns","tableData","onSelect","onSelectChange","ref","setSelectedKeys","selectedKeys","confirm","clearFilters","column","directives","name","rawName","c","searchInput","on","e","target","handleSearch","dataIndex","handleReset","filtered","style","color","undefined","text","record","index","searchText","searchedColumn","_l","toString","split","RegExp","fragment","i","toLowerCase","_s","slot","ID","TOKEN","staticRenderFns","data","loading","modal2Visible","labelCol","wrapperCol","disabled","form","offering","tier","dueDate","beforeMount","$http","get","then","console","error","err","message","description","response","methods","handleOk","handleCancel","$refs","ruleForm","resetFields","log","showModal","selectedRecord","watch","val","filter","companies","toUpperCase","component"],"mappings":"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","file":"js/chunk-2d209aff.95f095b4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-card',[_c('a-card',{staticClass:\"header-solid h-full\",attrs:{\"bordered\":false,\"bodyStyle\":{ padding: 0 }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('a-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('a-col',{attrs:{\"span\":24,\"md\":12}},[_c('h6',[_vm._v(\"Tokens\")])]),_c('a-col',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\"},attrs:{\"span\":24,\"md\":12}},[_c('a-radio-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.branchBtns),callback:function ($$v) {_vm.branchBtns=$$v},expression:\"branchBtns\"}},[_c('a-radio-button',{attrs:{\"value\":\"Recieved\"}},[_vm._v(\"Recieved\")]),_c('a-radio-button',{attrs:{\"value\":\"Sent\"}},[_vm._v(\"Sent\")])],1)],1)],1)]},proxy:true}])},[_c('a-table',{attrs:{\"rowKey\":\"id\",\"columns\":_vm.columns,\"data-source\":_vm.tableData,\"pagination\":false,\"rowSelection\":{onSelect: _vm.onSelectChange,}},scopedSlots:_vm._u([{key:\"filterDropdown\",fn:function(ref){\n          var setSelectedKeys = ref.setSelectedKeys;\n          var selectedKeys = ref.selectedKeys;\n          var confirm = ref.confirm;\n          var clearFilters = ref.clearFilters;\n          var column = ref.column;\nreturn _c('div',{staticStyle:{\"padding\":\"8px\"}},[_c('a-input',{directives:[{name:\"ant-ref\",rawName:\"v-ant-ref\",value:(function (c) { return (_vm.searchInput = c); }),expression:\"(c) => (searchInput = c)\"}],staticStyle:{\"width\":\"188px\",\"margin-bottom\":\"8px\",\"display\":\"block\"},attrs:{\"placeholder\":(\"Search \" + (column.dataIndex)),\"value\":selectedKeys[0]},on:{\"change\":function (e) { return setSelectedKeys(e.target.value ? [e.target.value] : []); },\"pressEnter\":function () { return _vm.handleSearch(selectedKeys, confirm, column.dataIndex); }}}),_c('a-button',{staticStyle:{\"width\":\"90px\",\"margin-right\":\"8px\"},attrs:{\"type\":\"primary\",\"icon\":\"search\",\"size\":\"small\"},on:{\"click\":function () { return _vm.handleSearch(selectedKeys, confirm, column.dataIndex); }}},[_vm._v(\" Search \")]),_c('a-button',{staticStyle:{\"width\":\"90px\"},attrs:{\"size\":\"small\"},on:{\"click\":function () { return _vm.handleReset(clearFilters); }}},[_vm._v(\" Reset \")])],1)}},{key:\"filterIcon\",fn:function(filtered){return _c('a-icon',{style:({ color: filtered ? '#108ee9' : undefined }),attrs:{\"type\":\"search\"}})}},{key:\"customRender\",fn:function(text, record, index, column){return [(_vm.searchText && _vm.searchedColumn === column.dataIndex)?_c('span',[_vm._l((text\n              .toString()\n              .split(new RegExp((\"(?<=\" + _vm.searchText + \")|(?=\" + _vm.searchText + \")\"), 'i'))),function(fragment,i){return [(fragment.toLowerCase() === _vm.searchText.toLowerCase())?_c('mark',{key:i,staticClass:\"highlight\"},[_vm._v(\" \"+_vm._s(fragment)+\" \")]):[_vm._v(\" \"+_vm._s(fragment)+\" \")]]})],2):[_vm._v(\" \"+_vm._s(text)+\" \")]]}}])},[_c('template',{slot:\"_id\"},[_c('div',{staticClass:\"avatar-info\"},[_c('h6',[_vm._v(_vm._s(_vm.ID))])])]),_c('template',{slot:\"token\"},[_c('div',{staticClass:\"avatar-info\"},[_c('h6',[_vm._v(_vm._s(_vm.TOKEN))])])])],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-card>\n    <a-card :bordered=\"false\" class=\"header-solid h-full\" :bodyStyle=\"{ padding: 0 }\">\n      <template #title>\n        <a-row type=\"flex\" align=\"middle\">\n          <a-col :span=\"24\" :md=\"12\">\n            <h6>Tokens</h6>\n          </a-col>\n          <a-col\n            :span=\"24\"\n            :md=\"12\"\n            style=\"\n              display: flex;\n              align-items: center;\n              justify-content: flex-end;\n            \"\n          >\n            <a-radio-group v-model=\"branchBtns\" size=\"small\">\n              <a-radio-button value=\"Recieved\">Recieved</a-radio-button>\n              <a-radio-button value=\"Sent\">Sent</a-radio-button>\n            </a-radio-group>\n          </a-col>\n        </a-row>\n      </template>\n      <a-table rowKey=\"id\" :columns=\"columns\" :data-source=\"tableData\" :pagination=\"false\" :rowSelection=\"{onSelect: onSelectChange,}\">\n        <div slot=\"filterDropdown\" slot-scope=\"{\n            setSelectedKeys, selectedKeys, confirm, clearFilters, column,}\" style=\"padding: 8px\">\n          <a-input v-ant-ref=\"(c) => (searchInput = c)\" :placeholder=\"`Search ${column.dataIndex}`\" :value=\"selectedKeys[0]\" style=\"width: 188px; margin-bottom: 8px; display: block\" @change=\"\n              (e) => setSelectedKeys(e.target.value ? [e.target.value] : []) \" @pressEnter=\"\n              () => handleSearch(selectedKeys, confirm, column.dataIndex) \"/>\n          <a-button type=\"primary\" icon=\"search\" size=\"small\" style=\"width: 90px; margin-right: 8px\" @click=\"() => handleSearch(selectedKeys, confirm, column.dataIndex)\">\n            Search\n          </a-button>\n          <a-button\n            size=\"small\"\n            style=\"width: 90px\"\n            @click=\"() => handleReset(clearFilters)\"\n          >\n            Reset\n          </a-button>\n        </div>\n        <a-icon\n          slot=\"filterIcon\"\n          slot-scope=\"filtered\"\n          type=\"search\"\n          :style=\"{ color: filtered ? '#108ee9' : undefined }\"\n        />\n        <template slot=\"customRender\" slot-scope=\"text, record, index, column\">\n          <span v-if=\"searchText && searchedColumn === column.dataIndex\">\n            <template\n              v-for=\"(fragment, i) in text\n                .toString()\n                .split(new RegExp(`(?<=${searchText})|(?=${searchText})`, 'i'))\"\n            >\n              <mark\n                v-if=\"fragment.toLowerCase() === searchText.toLowerCase()\"\n                :key=\"i\"\n                class=\"highlight\"\n              >\n                {{ fragment }}\n              </mark>\n              <template v-else>\n                {{ fragment }}\n              </template>\n            </template>\n          </span>\n          <template v-else>\n            {{ text }}\n          </template>\n        </template>\n\n        <template slot=\"_id\" >\n          <div class=\"avatar-info\">\n            <h6>{{ ID }}</h6>\n          </div>\n        </template>\n        <template slot=\"token\" >\n          <div class=\"avatar-info\">\n            <h6>{{ TOKEN }}</h6>\n          </div>\n        </template>\n      </a-table>\n    </a-card>\n  </a-card>\n</template>\n\n<script>\nimport moment from 'moment'\n// import db from \"../firebase.config\";\n// import { collection, getDocs, deleteDoc, updateDoc, doc} from \"firebase/firestore\";\nconst columns = [\n  {\n    key: \"_id\",\n    title: \"ID\",\n    dataIndex: \"_id\",\n    scopedSlots: {\n      filterDropdown: \"filterDropdown\",\n      filterIcon: \"filterIcon\",\n    },\n    onFilter: (value, record) =>\n      record.name.toString().toLowerCase().includes(value.toLowerCase()),\n    onFilterDropdownVisibleChange: (visible) => {\n      if (visible) {\n        setTimeout(() => {\n          this.searchInput.focus();\n        }, 0);\n      }\n    },\n  },\n  {\n    key: \"token\",\n    title: \"TOKEN\",\n    dataIndex: \"token\",\n    scopedSlots: {\n      filterDropdown: \"filterDropdown\",\n      filterIcon: \"filterIcon\",\n    },\n    onFilter: (value, record) =>\n      record.name.toString().toLowerCase().includes(value.toLowerCase()),\n    onFilterDropdownVisibleChange: (visible) => {\n      if (visible) {\n        setTimeout(() => {\n          this.searchInput.focus();\n        }, 0);\n      }\n    },\n  },\n];\nexport default {\n  data() {\n    return {\n      columns,\n      loading: false,\n      data: [],\n      modal2Visible: false,\n      labelCol: { span: 5 },\n      wrapperCol: { span: 14 },\n      searchText: \"\",\n      searchInput: null,\n      searchedColumn: \"\",\n      disabled: true,\n      branchBtns: \"all\",\n      tableData: [],\n      form: {\n          name: null,\n          offering: null,\n          tier: null,\n          dueDate: null,\n        },\n        rules: {\n        name: [{ required: true, message: 'Please input Name of the Company', trigger: 'blur' }],\n        offering: [{ required: true, message: 'Please select an Offering', trigger: 'blur' }],\n        tier: [{ required: true, message: 'Please select a Category', trigger: 'blur' }],\n        dueDate: [{ required: true, message: 'Please select last date to apply', trigger: 'blur' }],\n      },\n    };\n  },\n  beforeMount() {\n    this.$http.get(\"/tokens\").then(({data}) => {\n      this.tableData = data.data\n    }).catch(err => {\n      console.error(err)\n      this.$notification.error({\n        message: 'Failed to fetch data',\n        description: err.response? err.response.message : err.message\n      });\n    })\n  },\n  methods: {\n    handleSearch(selectedKeys, confirm, dataIndex) {\n      confirm();\n      this.searchText = selectedKeys[0];\n      this.searchedColumn = dataIndex;\n    },\n    handleOk() {\n    //    this.$refs.ruleForm.validate(valid => {\n    //      if (valid) {\n    //         this.loading = true\n    //         //  console.log(this.selectedRecord)\n    //         if(this.selectedRecord){\n    //           updateDoc(doc(db,\"companies\", this.selectedRecord.id),{\n    //             name: this.form.name,\n    //             offering: this.form.offering,\n    //             tier: this.form.tier,\n    //             dueDate: this.form.dueDate.toDate(),\n    //           }).then(() => {\n    //             // console.log(\"then\")\n    //             this.modal2Visible = false;\n    //             this.$refs.ruleForm.resetFields();\n    //             this.$notification.open({\n    //               message: 'Company Details updated successfully',\n    //             });\n    //           }).catch((error) => {\n    //             // console.log(\"catch\")\n    //             console.log(\"Error:\", error)\n    //           }).finally(() => {\n    //             // console.log(\"finally\")\n    //             this.loading = false\n    //           });\n    //         } else {\n    //           // console.log(\"here\")\n            // }\n        //   }\n    //   });\n      \n    },\n    handleCancel(){\n      this.modal2Visible = false;\n      this.$refs.ruleForm.resetFields();\n    },\n    // oncompanyclick(record){\n    //   this.$router.push({name:'company', params: {companyname: record.name}});\n    // },\n    handleReset(clearFilters) {\n      clearFilters();\n      this.searchText = \"\";\n    },\n    onSelectChange() {\n      console.log(\"details of selected companies\");\n    },\n    showModal(record){\n      // console.log(\"hello\")\n      if(record) {\n        this.selectedRecord = record\n        this.form = {\n          name: record.name,\n          offering: record.offering,\n          tier: record.tier,\n          dueDate: record.dueDate, \n        }\n      }\n      this.modal2Visible = true\n     },\n    async onDelete(record) {\n    //   await deleteDoc(doc(db, \"companies\", record.id));\n       this.$notification.open({\n        message: 'Company deleted successfully',\n      });\n    },\n  },\n  watch: {\n    branchBtns(val) {\n      // console.log(val);\n      if (val == \"all\") {\n        this.tableData = this.data;\n      } else {\n        // console.log(this.data);\n        this.tableData = this.data.filter((companies) => {\n          return companies.tier.toUpperCase() == val.toUpperCase();\n        });\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tokens.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tokens.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tokens.vue?vue&type=template&id=ea9fc82c&\"\nimport script from \"./Tokens.vue?vue&type=script&lang=js&\"\nexport * from \"./Tokens.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}